<Application x:Class="Local_Network_Scanner.App"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:local="clr-namespace:Local_Network_Scanner"
             xmlns:System="clr-namespace:System;assembly=mscorlib">

    <Application.Resources>
        <ResourceDictionary>
            <ResourceDictionary.MergedDictionaries>
                <ResourceDictionary Source="Resources/DataTemplateDictionary.xaml"/>
                <ResourceDictionary Source="Resources/Languages/StringResources.en.xaml"/>
            </ResourceDictionary.MergedDictionaries>

            <!-- Font Families -->
            <FontFamily x:Key="DyslexicFont">./Resources/Fonts/#OpenDyslexic</FontFamily>
            <FontFamily x:Key="DefaultFont">Segoe UI</FontFamily>
            <FontFamily x:Key="MainFont">Segoe UI</FontFamily>

            <!-- Font Sizes - These will be dynamically updated -->
            <System:Double x:Key="BaseFontSize">14</System:Double>
            <System:Double x:Key="SmallFontSize">12</System:Double>
            <System:Double x:Key="MediumFontSize">16</System:Double>
            <System:Double x:Key="LargeFontSize">20</System:Double>
            <System:Double x:Key="ExtraLargeFontSize">28</System:Double>
            <System:Double x:Key="HugeFontSize">42</System:Double>

            <!-- Color Palette -->
            <SolidColorBrush x:Key="DeepTwilight" Color="#03045e"/>
            <SolidColorBrush x:Key="FrenchBlue" Color="#023e8a"/>
            <SolidColorBrush x:Key="BrightTealBlue" Color="#0077b6"/>
            <SolidColorBrush x:Key="BlueGreen" Color="#0096c7"/>
            <SolidColorBrush x:Key="TurquoiseSurf" Color="#00b4d8"/>
            <SolidColorBrush x:Key="SkyAqua" Color="#48cae4"/>
            <SolidColorBrush x:Key="FrostedBlue" Color="#90e0ef"/>
            <SolidColorBrush x:Key="FrostedBlue2" Color="#ade8f4"/>
            <SolidColorBrush x:Key="LightCyan" Color="#caf0f8"/>

            <!-- Themed Color Palette -->
            <SolidColorBrush x:Key="Background50" Color="#e8f9fc"/>
            <SolidColorBrush x:Key="Background100" Color="#d2f3f9"/>
            <SolidColorBrush x:Key="Background800" Color="#0c4d5a"/>
            <SolidColorBrush x:Key="Background900" Color="#06272d"/>

            <SolidColorBrush x:Key="Primary500" Color="#00a6ff"/>
            <SolidColorBrush x:Key="Primary600" Color="#0085cc"/>
            <SolidColorBrush x:Key="Primary700" Color="#006399"/>

            <SolidColorBrush x:Key="Secondary500" Color="#20c2df"/>
            <SolidColorBrush x:Key="Secondary600" Color="#199cb3"/>

            <SolidColorBrush x:Key="Accent500" Color="#4669b9"/>
            <SolidColorBrush x:Key="Accent600" Color="#385494"/>

            <SolidColorBrush x:Key="Text800" Color="#030563"/>
            <SolidColorBrush x:Key="Text900" Color="#020231"/>

            <!-- Modern Button Style -->
            <Style x:Key="ModernButton" TargetType="Button">
                <Setter Property="FontFamily" Value="{DynamicResource MainFont}"/>
                <Setter Property="FontSize" Value="{DynamicResource BaseFontSize}"/>
                <Setter Property="FontWeight" Value="Medium"/>
                <Setter Property="Padding" Value="20,10"/>
                <Setter Property="Cursor" Value="Hand"/>
                <Setter Property="BorderThickness" Value="0"/>
                <Setter Property="Background" Value="{StaticResource Primary500}"/>
                <Setter Property="Foreground" Value="White"/>
                <Setter Property="Template">
                    <Setter.Value>
                        <ControlTemplate TargetType="Button">
                            <Border x:Name="border"
                                    Background="{TemplateBinding Background}"
                                    BorderBrush="{TemplateBinding BorderBrush}"
                                    BorderThickness="{TemplateBinding BorderThickness}"
                                    CornerRadius="8"
                                    SnapsToDevicePixels="True">
                                <Border.Effect>
                                    <DropShadowEffect Color="#48cae4" 
                                                      BlurRadius="0" 
                                                      ShadowDepth="0" 
                                                      Opacity="0"/>
                                </Border.Effect>
                                <ContentPresenter x:Name="contentPresenter"
                                                  Margin="{TemplateBinding Padding}"
                                                  HorizontalAlignment="Center"
                                                  VerticalAlignment="Center"
                                                  RecognizesAccessKey="True"
                                                  SnapsToDevicePixels="{TemplateBinding SnapsToDevicePixels}"/>
                            </Border>
                            <ControlTemplate.Triggers>
                                <Trigger Property="IsMouseOver" Value="True">
                                    <Trigger.EnterActions>
                                        <BeginStoryboard>
                                            <Storyboard>
                                                <ColorAnimation Storyboard.TargetName="border"
                                                                Storyboard.TargetProperty="(Border.Background).(SolidColorBrush.Color)"
                                                                To="#0085cc"
                                                                Duration="0:0:0.2"/>
                                                <DoubleAnimation Storyboard.TargetName="border"
                                                                 Storyboard.TargetProperty="(Border.Effect).(DropShadowEffect.BlurRadius)"
                                                                 To="15"
                                                                 Duration="0:0:0.2"/>
                                                <DoubleAnimation Storyboard.TargetName="border"
                                                                 Storyboard.TargetProperty="(Border.Effect).(DropShadowEffect.Opacity)"
                                                                 To="0.4"
                                                                 Duration="0:0:0.2"/>
                                            </Storyboard>
                                        </BeginStoryboard>
                                    </Trigger.EnterActions>
                                    <Trigger.ExitActions>
                                        <BeginStoryboard>
                                            <Storyboard>
                                                <ColorAnimation Storyboard.TargetName="border"
                                                                Storyboard.TargetProperty="(Border.Background).(SolidColorBrush.Color)"
                                                                To="#00a6ff"
                                                                Duration="0:0:0.2"/>
                                                <DoubleAnimation Storyboard.TargetName="border"
                                                                 Storyboard.TargetProperty="(Border.Effect).(DropShadowEffect.BlurRadius)"
                                                                 To="0"
                                                                 Duration="0:0:0.2"/>
                                                <DoubleAnimation Storyboard.TargetName="border"
                                                                 Storyboard.TargetProperty="(Border.Effect).(DropShadowEffect.Opacity)"
                                                                 To="0"
                                                                 Duration="0:0:0.2"/>
                                            </Storyboard>
                                        </BeginStoryboard>
                                    </Trigger.ExitActions>
                                </Trigger>
                                <Trigger Property="IsPressed" Value="True">
                                    <Setter TargetName="border" Property="Background" Value="{StaticResource Primary700}"/>
                                    <Setter TargetName="border" Property="RenderTransform">
                                        <Setter.Value>
                                            <ScaleTransform ScaleX="0.97" ScaleY="0.97"/>
                                        </Setter.Value>
                                    </Setter>
                                    <Setter TargetName="border" Property="RenderTransformOrigin" Value="0.5,0.5"/>
                                </Trigger>
                                <Trigger Property="IsEnabled" Value="False">
                                    <Setter TargetName="border" Property="Background" Value="#CCCCCC"/>
                                    <Setter Property="Foreground" Value="#666666"/>
                                    <Setter Property="Cursor" Value="Arrow"/>
                                </Trigger>
                            </ControlTemplate.Triggers>
                        </ControlTemplate>
                    </Setter.Value>
                </Setter>
            </Style>

            <!-- Secondary Button Style (Outlined) -->
            <Style x:Key="SecondaryButton" TargetType="Button" BasedOn="{StaticResource ModernButton}">
                <Setter Property="Background" Value="Transparent"/>
                <Setter Property="Foreground" Value="{StaticResource Primary500}"/>
                <Setter Property="BorderThickness" Value="2"/>
                <Setter Property="BorderBrush" Value="{StaticResource Primary500}"/>
                <Setter Property="Template">
                    <Setter.Value>
                        <ControlTemplate TargetType="Button">
                            <Border x:Name="border"
                                    Background="{TemplateBinding Background}"
                                    BorderBrush="{TemplateBinding BorderBrush}"
                                    BorderThickness="{TemplateBinding BorderThickness}"
                                    CornerRadius="8"
                                    SnapsToDevicePixels="True">
                                <ContentPresenter x:Name="contentPresenter"
                                                  Margin="{TemplateBinding Padding}"
                                                  HorizontalAlignment="Center"
                                                  VerticalAlignment="Center"
                                                  RecognizesAccessKey="True"/>
                            </Border>
                            <ControlTemplate.Triggers>
                                <Trigger Property="IsMouseOver" Value="True">
                                    <Setter TargetName="border" Property="Background" Value="{StaticResource Background100}"/>
                                </Trigger>
                                <Trigger Property="IsPressed" Value="True">
                                    <Setter TargetName="border" Property="Background" Value="{StaticResource Primary500}"/>
                                    <Setter Property="Foreground" Value="White"/>
                                </Trigger>
                                <Trigger Property="IsEnabled" Value="False">
                                    <Setter TargetName="border" Property="BorderBrush" Value="#CCCCCC"/>
                                    <Setter Property="Foreground" Value="#666666"/>
                                </Trigger>
                            </ControlTemplate.Triggers>
                        </ControlTemplate>
                    </Setter.Value>
                </Setter>
            </Style>

            <!-- Modern ComboBox Style -->
            <Style x:Key="ModernComboBox" TargetType="ComboBox">
                <Setter Property="FontFamily" Value="{DynamicResource MainFont}"/>
                <Setter Property="FontSize" Value="{DynamicResource BaseFontSize}"/>
                <Setter Property="Padding" Value="12,8"/>
                <Setter Property="Background" Value="White"/>
                <Setter Property="BorderBrush" Value="{StaticResource Primary500}"/>
                <Setter Property="BorderThickness" Value="2"/>
                <Setter Property="Template">
                    <Setter.Value>
                        <ControlTemplate TargetType="ComboBox">
                            <Grid>
                                <Border x:Name="border"
                                        Background="{TemplateBinding Background}"
                                        BorderBrush="{TemplateBinding BorderBrush}"
                                        BorderThickness="{TemplateBinding BorderThickness}"
                                        CornerRadius="6">
                                    <Grid>
                                        <Grid.ColumnDefinitions>
                                            <ColumnDefinition Width="*"/>
                                            <ColumnDefinition Width="Auto"/>
                                        </Grid.ColumnDefinitions>

                                        <!-- This ContentPresenter shows the selected item -->
                                        <ContentPresenter Grid.Column="0"
                                                          x:Name="ContentSite"
                                                          Margin="{TemplateBinding Padding}"
                                                          HorizontalAlignment="Left"
                                                          VerticalAlignment="Center"
                                                          Content="{TemplateBinding SelectionBoxItem}"
                                                          ContentTemplate="{TemplateBinding SelectionBoxItemTemplate}"
                                                          ContentTemplateSelector="{TemplateBinding ItemTemplateSelector}"
                                                          IsHitTestVisible="False"/>

                                        <!-- Editable TextBox (only visible when IsEditable=True) -->
                                        <TextBox x:Name="PART_EditableTextBox"
                                                 Grid.Column="0"
                                                 Margin="{TemplateBinding Padding}"
                                                 HorizontalAlignment="Left"
                                                 VerticalAlignment="Center"
                                                 Background="Transparent"
                                                 BorderThickness="0"
                                                 Focusable="True"
                                                 IsReadOnly="{TemplateBinding IsReadOnly}"
                                                 Visibility="Hidden"/>

                                        <ToggleButton Grid.Column="1"
                                                      Width="30"
                                                      Focusable="False"
                                                      IsChecked="{Binding IsDropDownOpen, Mode=TwoWay, RelativeSource={RelativeSource TemplatedParent}}"
                                                      ClickMode="Press">
                                            <ToggleButton.Style>
                                                <Style TargetType="ToggleButton">
                                                    <Setter Property="Template">
                                                        <Setter.Value>
                                                            <ControlTemplate TargetType="ToggleButton">
                                                                <Border Background="Transparent">
                                                                    <Path x:Name="Arrow"
                                                                          Data="M 0 0 L 4 4 L 8 0 Z"
                                                                          Fill="{StaticResource Primary500}"
                                                                          HorizontalAlignment="Center"
                                                                          VerticalAlignment="Center"/>
                                                                </Border>
                                                            </ControlTemplate>
                                                        </Setter.Value>
                                                    </Setter>
                                                </Style>
                                            </ToggleButton.Style>
                                        </ToggleButton>
                                    </Grid>
                                </Border>
                                <Popup x:Name="PART_Popup"
                                       AllowsTransparency="True"
                                       Placement="Bottom"
                                       IsOpen="{TemplateBinding IsDropDownOpen}"
                                       Focusable="False"
                                       PopupAnimation="Slide">
                                    <Border Background="White"
                                            BorderBrush="{StaticResource Primary500}"
                                            BorderThickness="2"
                                            CornerRadius="6"
                                            Margin="0,4,0,0"
                                            MinWidth="{Binding ActualWidth, RelativeSource={RelativeSource TemplatedParent}}">
                                        <Border.Effect>
                                            <DropShadowEffect Color="#48cae4" BlurRadius="10" ShadowDepth="0" Opacity="0.3"/>
                                        </Border.Effect>
                                        <ScrollViewer MaxHeight="200"
                                                      VerticalScrollBarVisibility="Auto"
                                                      HorizontalScrollBarVisibility="Disabled">
                                            <ItemsPresenter SnapsToDevicePixels="{TemplateBinding SnapsToDevicePixels}"/>
                                        </ScrollViewer>
                                    </Border>
                                </Popup>
                            </Grid>
                            <ControlTemplate.Triggers>
                                <Trigger Property="IsEditable" Value="True">
                                    <Setter TargetName="PART_EditableTextBox" Property="Visibility" Value="Visible"/>
                                    <Setter TargetName="ContentSite" Property="Visibility" Value="Hidden"/>
                                </Trigger>
                                <Trigger Property="HasItems" Value="False">
                                    <Setter TargetName="PART_Popup" Property="Height" Value="95"/>
                                </Trigger>
                                <Trigger Property="IsMouseOver" Value="True">
                                    <Setter TargetName="border" Property="BorderBrush" Value="{StaticResource Primary600}"/>
                                </Trigger>
                            </ControlTemplate.Triggers>
                        </ControlTemplate>
                    </Setter.Value>
                </Setter>
                <Setter Property="ItemContainerStyle">
                    <Setter.Value>
                        <Style TargetType="ComboBoxItem">
                            <Setter Property="Padding" Value="12,8"/>
                            <Setter Property="Template">
                                <Setter.Value>
                                    <ControlTemplate TargetType="ComboBoxItem">
                                        <Border x:Name="ItemBorder"
                                                Background="Transparent"
                                                Padding="{TemplateBinding Padding}">
                                            <ContentPresenter/>
                                        </Border>
                                        <ControlTemplate.Triggers>
                                            <Trigger Property="IsHighlighted" Value="True">
                                                <Setter TargetName="ItemBorder" Property="Background" Value="{StaticResource Background100}"/>
                                            </Trigger>
                                            <Trigger Property="IsSelected" Value="True">
                                                <Setter TargetName="ItemBorder" Property="Background" Value="{StaticResource FrostedBlue}"/>
                                            </Trigger>
                                        </ControlTemplate.Triggers>
                                    </ControlTemplate>
                                </Setter.Value>
                            </Setter>
                        </Style>
                    </Setter.Value>
                </Setter>
            </Style>

            <!-- Window and Control Defaults -->
            <Style TargetType="{x:Type Window}">
                <Setter Property="FontFamily" Value="{DynamicResource MainFont}"/>
                <Setter Property="FontSize" Value="{DynamicResource BaseFontSize}"/>
                <Setter Property="Background" Value="{StaticResource Background50}"/>
            </Style>

            <Style TargetType="{x:Type UserControl}">
                <Setter Property="FontFamily" Value="{DynamicResource MainFont}"/>
                <Setter Property="FontSize" Value="{DynamicResource BaseFontSize}"/>
            </Style>

            <Style TargetType="{x:Type Button}" BasedOn="{StaticResource ModernButton}"/>
            <Style TargetType="{x:Type ComboBox}" BasedOn="{StaticResource ModernComboBox}"/>

            <Style TargetType="{x:Type Label}">
                <Setter Property="FontFamily" Value="{DynamicResource MainFont}"/>
                <Setter Property="Foreground" Value="{StaticResource Text800}"/>
            </Style>

            <Style TargetType="{x:Type TextBlock}">
                <Setter Property="FontFamily" Value="{DynamicResource MainFont}"/>
            </Style>

            <Style TargetType="{x:Type TextBox}">
                <Setter Property="FontFamily" Value="{DynamicResource MainFont}"/>
                <Setter Property="FontSize" Value="{DynamicResource BaseFontSize}"/>
            </Style>

            <Style TargetType="{x:Type DataGrid}">
                <Setter Property="FontFamily" Value="{DynamicResource MainFont}"/>
                <Setter Property="FontSize" Value="{DynamicResource BaseFontSize}"/>
            </Style>

            <Style TargetType="{x:Type DataGridColumnHeader}">
                <Setter Property="FontFamily" Value="{DynamicResource MainFont}"/>
            </Style>

            <Style TargetType="{x:Type DataGridCell}">
                <Setter Property="FontFamily" Value="{DynamicResource MainFont}"/>
            </Style>

            <Style TargetType="{x:Type ListView}">
                <Setter Property="FontFamily" Value="{DynamicResource MainFont}"/>
                <Setter Property="FontSize" Value="{DynamicResource BaseFontSize}"/>
            </Style>

            <Style TargetType="{x:Type ListViewItem}">
                <Setter Property="FontFamily" Value="{DynamicResource MainFont}"/>
            </Style>

            <Style TargetType="{x:Type GridViewColumnHeader}">
                <Setter Property="FontFamily" Value="{DynamicResource MainFont}"/>
            </Style>

        </ResourceDictionary>
    </Application.Resources>
</Application>